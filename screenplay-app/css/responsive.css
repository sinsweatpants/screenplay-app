/* ==========================================================================
   Responsive CSS File: Media Queries for Mobile, Tablet, and Desktop
   ========================================================================== */

/* -------------------------------------------------------------------------- */
/*                              Mobile (Default)                              */
/* -------------------------------------------------------------------------- */
/* Base styles in main.css are mobile-first, but we add overrides here */

.app-wrapper {
    /* On mobile, stack everything vertically and hide sidebars */
    grid-template-areas:
        "header"
        "main"
        "footer";
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr auto;
}

.main-content {
    grid-template-areas: "main";
    grid-template-columns: 1fr;
    height: calc(100vh - 100px); /* Adjust height for top/bottom bars */
}

.left-sidebar,
.right-sidebar {
    /* On mobile, sidebars could be implemented as off-canvas menus */
    display: none;
    position: fixed;
    top: 0;
    bottom: 0;
    width: 280px;
    z-index: var(--z-index-sidebar);
    box-shadow: var(--shadow-lg);
    transition: transform 0.3s ease-in-out;
}

.left-sidebar {
    left: 0;
    transform: translateX(-100%);
    border-right: 1px solid var(--border);
}

.right-sidebar {
    right: 0;
    transform: translateX(100%);
    border-left: 1px solid var(--border);
}

.left-sidebar.is-open {
    display: block;
    transform: translateX(0);
}

.right-sidebar.is-open {
    display: block;
    transform: translateX(0);
}


/* Adjust editor for smaller screens */
.editor-container {
    padding: var(--space-2);
}

.editor {
    width: 100%;
    min-height: calc(100vh - 100px - var(--space-4));
    padding: var(--space-4);
    box-shadow: none;
}

/* Simplify top bar */
.top-bar .document-title {
    font-size: var(--text-base);
}
.top-bar .save-status {
    display: none; /* Hide save status on small screens */
}
.top-bar-left, .top-bar-right {
    gap: var(--space-2);
}

/* Add menu toggles for sidebars - assuming these buttons are added to the HTML */
.sidebar-toggle {
    display: block; /* Initially hidden, shown on mobile */
}

/* Status bar adjustments */
.status-bar {
    font-size: var(--text-xs);
    padding: var(--space-1) var(--space-2);
}


/* -------------------------------------------------------------------------- */
/*                               Tablet (>= 768px)                            */
/* -------------------------------------------------------------------------- */
@media (min-width: 768px) {
    .app-wrapper {
        /* Show left sidebar, keep right one hidden/collapsible */
        grid-template-areas:
            "header header"
            "left-sidebar main"
            "footer footer";
        grid-template-columns: 240px 1fr;
    }

    .main-content {
        grid-template-columns: 1fr; /* Main content takes all space */
    }

    .left-sidebar {
        display: block;
        position: static;
        transform: none;
        box-shadow: none;
    }

    .right-sidebar {
        /* Can still be an overlay or a pinned sidebar */
        display: none; /* Keep it hidden by default */
    }

    .top-bar .save-status {
        display: inline; /* Show save status again */
    }

    .editor-container {
        padding: var(--space-6);
    }
}


/* -------------------------------------------------------------------------- */
/*                               Desktop (>= 1024px)                          */
/* -------------------------------------------------------------------------- */
@media (min-width: 1024px) {
    .app-wrapper {
        /* The full three-column layout */
        grid-template-areas:
            "header header header"
            "left-sidebar main right-sidebar"
            "footer footer footer";
        grid-template-columns: 240px 1fr 280px;
    }

    .right-sidebar {
        display: block;
        position: static;
        transform: none;
        box-shadow: none;
    }

    .editor-container {
        padding: var(--space-8);
    }
}

/* -------------------------------------------------------------------------- */
/*                             Large Desktop (>= 1440px)                      */
/* -------------------------------------------------------------------------- */
@media (min-width: 1440px) {
    .app-wrapper {
        grid-template-columns: 280px 1fr 320px; /* Wider sidebars */
    }

    .editor {
        /* The A4 page layout becomes more comfortable */
        margin: var(--space-8) auto;
    }
}